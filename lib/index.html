<!-- <script src="//localhost:8080/socket.io/socket.io.js"></script>
<script>
  var socket = io.connect('http://localhost:8080');
  socket.on('pusher:connection_established', function(data) {
    console.log(data);
  });

  socket.on('news', function (data) {
    console.log(data);
  });
</script> -->

<!-- <script src="//localhost:4567/pusher.js"></script> -->
<script src="http://js.pusher.com/1.9/pusher.js"></script>
<script>
  // var config = {
  //   wsHost:    'localhost', 
  //   wsPort:    8080,
  //   httpHost:  'localhost',
  //   httpPort:  8080,
  //   httpPath:  '/app/pusherKey',
  //   disableStats: true,
  //   authEndpoint: '/pusher_auth_test'
  // };

  // var pusher = new Pusher('pusherKey', config);
  Pusher.host = "localhost";
  Pusher.ws_port = 8080;

  Pusher.log = function(message) {
    if (window.console && window.console.log) {
      window.console.log(message);
    }
  };

  Pusher.channel_auth_endpoint = "/pusher_auth_test_presence";
  var pusher = new Pusher('abogado');

  var channel = pusher.subscribe('presence-testchannel');
  channel.bind('testevent', function(data) {
    console.log(data);
  });

  // Test error when removing subscription to unexisting channel
  // setTimeout(function() {
  //   pusher.unsubscribe('testchanndsel');
  // }, 2000);
  
</script>

<!-- <script src="http://cdn.sockjs.org/sockjs-0.3.min.js"></script>
<script>
   var sock = new SockJS('http://localhost:8080/app/pusherKey');
   sock.onopen = function() {
       console.log('open');
   };
   sock.onmessage = function(e) {
       console.log('message', e.data);
   };
   sock.onclose = function() {
       console.log('close');
   };
</script> -->